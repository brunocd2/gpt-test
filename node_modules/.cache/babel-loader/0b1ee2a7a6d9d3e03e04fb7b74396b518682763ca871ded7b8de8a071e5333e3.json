{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rox/Documents/GitHub/gpt-test-steticLay/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import Logo from'../../assets/logo.png';import LogoMobile from'../../assets/logoMobile.png';import VisibilityIcon from'../../assets/icons/visibility.png';import VisibilityOffIcon from'../../assets/icons/visibility_off.png';import LockIcon from'../../assets/icons/lock.png';import InputWithIcon from\"../../components/InputWithIcon\";import Button from\"../../components/Button\";import{GlobalContext}from'../../contexts/global';import Loading from\"../../components/Loading\";import{LoginLeftWrapper,LoginRightWrapper}from\"../Login/styles\";import{firstAccess}from\"../../services/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FirstAccess(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newPassword=_useState2[0],setNewPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showNewPassword=_useState6[0],setShowNewPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showConfirmPassword=_useState8[0],setShowConfirmPassword=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useContext=useContext(GlobalContext),setSession=_useContext.setSession,session=_useContext.session;var navigate=useNavigate();function handleSubmit(e){e.preventDefault();if(!newPassword||!confirmPassword){setError('Preencha os campos!');}else if(newPassword!==confirmPassword){setError('Verifique as senhas digitas!');}else{setIsLoading(true);firstAccess(session,newPassword).then(function(){navigate('/assistente-virtual');}).catch(function(err){setError('Falha ao atualizar senha!');console.log(err);setIsLoading(false);});}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(LoginLeftWrapper,{children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"CD2 GPT Super\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Bem vindo(a) ao \",/*#__PURE__*/_jsx(\"br\",{}),\" Esteticista Virtual Laissa Pacheco.\"]})]}),/*#__PURE__*/_jsxs(LoginRightWrapper,{children:[/*#__PURE__*/_jsx(\"img\",{src:LogoMobile,alt:\"CD2 GPT Super\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Este \\xE9 seu primeiro \",/*#__PURE__*/_jsx(\"br\",{}),\" acesso na aplica\\xE7\\xE3o.\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Crie uma nova senha para entrar.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(InputWithIcon,{label:\"Nova Senha\",placeholder:\"Insira a nova senha\",value:newPassword,setValue:setNewPassword,left:{src:LockIcon},right:{src:showNewPassword?VisibilityOffIcon:VisibilityIcon,onClick:function onClick(){return setShowNewPassword(!showNewPassword);}},type:showNewPassword?'text':'password'}),/*#__PURE__*/_jsx(InputWithIcon,{label:\"Confirmar Senha\",placeholder:\"Confirme a senha\",value:confirmPassword,setValue:setConfirmPassword,left:{src:LockIcon},right:{src:showConfirmPassword?VisibilityOffIcon:VisibilityIcon,onClick:function onClick(){return setShowConfirmPassword(!showConfirmPassword);}},type:showConfirmPassword?'text':'password'}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(Button,{color:\"branding\",text:\"Concluir\"})]}),/*#__PURE__*/_jsx(Loading,{isLoading:isLoading})]})]});}","map":{"version":3,"names":["useContext","useState","Link","useNavigate","Logo","LogoMobile","VisibilityIcon","VisibilityOffIcon","LockIcon","InputWithIcon","Button","GlobalContext","Loading","LoginLeftWrapper","LoginRightWrapper","firstAccess","FirstAccess","newPassword","setNewPassword","confirmPassword","setConfirmPassword","showNewPassword","setShowNewPassword","showConfirmPassword","setShowConfirmPassword","isLoading","setIsLoading","error","setError","setSession","session","navigate","handleSubmit","e","preventDefault","then","catch","err","console","log","src","onClick"],"sources":["C:/Users/Rox/Documents/GitHub/gpt-test-steticLay/src/pages/FirstAccess/index.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport Logo from '../../assets/logo.png';\r\nimport LogoMobile from '../../assets/logoMobile.png';\r\nimport VisibilityIcon from '../../assets/icons/visibility.png';\r\nimport VisibilityOffIcon from '../../assets/icons/visibility_off.png';\r\nimport LockIcon from '../../assets/icons/lock.png';\r\nimport InputWithIcon from \"../../components/InputWithIcon\";\r\nimport Button from \"../../components/Button\";\r\nimport { GlobalContext } from '../../contexts/global';\r\nimport Loading from \"../../components/Loading\";\r\nimport { LoginLeftWrapper, LoginRightWrapper } from \"../Login/styles\";\r\nimport { firstAccess } from \"../../services/api\";\r\n\r\nexport default function FirstAccess() {\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const { setSession, session } = useContext(GlobalContext);\r\n  const navigate = useNavigate();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!newPassword || !confirmPassword) {\r\n      setError('Preencha os campos!');\r\n    } else if (newPassword !== confirmPassword) {\r\n      setError('Verifique as senhas digitas!');\r\n    } else {\r\n      setIsLoading(true);\r\n\r\n      firstAccess(session, newPassword)\r\n        .then(() => {\r\n          navigate('/assistente-virtual');\r\n        }).catch((err) => {\r\n          setError('Falha ao atualizar senha!');\r\n          console.log(err);\r\n\r\n          setIsLoading(false);\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <LoginLeftWrapper>\r\n        <img src={Logo} alt=\"CD2 GPT Super\" />\r\n        <h2>Bem vindo(a) ao <br /> Esteticista Virtual Laissa Pacheco.</h2>\r\n      </LoginLeftWrapper>\r\n\r\n      <LoginRightWrapper>\r\n        <img src={LogoMobile} alt=\"CD2 GPT Super\" />\r\n        <h2>Este é seu primeiro <br /> acesso na aplicação.</h2>\r\n        <p>Crie uma nova senha para entrar.</p>\r\n        <form onSubmit={handleSubmit}>\r\n          <InputWithIcon\r\n            label=\"Nova Senha\" placeholder=\"Insira a nova senha\"\r\n            value={newPassword} setValue={setNewPassword}\r\n            left={{ src: LockIcon }}\r\n            right={{\r\n              src: showNewPassword ? VisibilityOffIcon : VisibilityIcon,\r\n              onClick: () => setShowNewPassword(!showNewPassword)\r\n            }}\r\n            type={showNewPassword ? 'text' : 'password'}\r\n          />\r\n\r\n          <InputWithIcon\r\n            label=\"Confirmar Senha\" placeholder=\"Confirme a senha\"\r\n            value={confirmPassword} setValue={setConfirmPassword}\r\n            left={{ src: LockIcon, }}\r\n            right={{\r\n              src: showConfirmPassword ? VisibilityOffIcon : VisibilityIcon,\r\n              onClick: () => setShowConfirmPassword(!showConfirmPassword)\r\n            }}\r\n            type={showConfirmPassword ? 'text' : 'password'}\r\n          />\r\n\r\n          {error && <span className=\"error\">{error}</span>}\r\n\r\n          <Button color=\"branding\" text=\"Concluir\" />\r\n        </form>\r\n        <Loading isLoading={isLoading} />\r\n      </LoginRightWrapper>\r\n    </>\r\n  )\r\n}"],"mappings":"sIAAA,OAASA,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAC5C,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAEpD,MAAOC,KAAI,KAAM,uBAAuB,CACxC,MAAOC,WAAU,KAAM,6BAA6B,CACpD,MAAOC,eAAc,KAAM,mCAAmC,CAC9D,MAAOC,kBAAiB,KAAM,uCAAuC,CACrE,MAAOC,SAAQ,KAAM,6BAA6B,CAClD,MAAOC,cAAa,KAAM,gCAAgC,CAC1D,MAAOC,OAAM,KAAM,yBAAyB,CAC5C,OAASC,aAAa,KAAQ,uBAAuB,CACrD,MAAOC,QAAO,KAAM,0BAA0B,CAC9C,OAASC,gBAAgB,CAAEC,iBAAiB,KAAQ,iBAAiB,CACrE,OAASC,WAAW,KAAQ,oBAAoB,CAAC,6IAEjD,cAAe,SAASC,YAAW,EAAG,CACpC,cAAsCf,QAAQ,CAAC,EAAE,CAAC,wCAA3CgB,WAAW,eAAEC,cAAc,eAClC,eAA8CjB,QAAQ,CAAC,EAAE,CAAC,yCAAnDkB,eAAe,eAAEC,kBAAkB,eAC1C,eAA8CnB,QAAQ,CAAC,KAAK,CAAC,yCAAtDoB,eAAe,eAAEC,kBAAkB,eAC1C,eAAsDrB,QAAQ,CAAC,KAAK,CAAC,yCAA9DsB,mBAAmB,eAAEC,sBAAsB,eAClD,eAAkCvB,QAAQ,CAAC,KAAK,CAAC,0CAA1CwB,SAAS,gBAAEC,YAAY,gBAC9B,gBAA0BzB,QAAQ,CAAC,EAAE,CAAC,2CAA/B0B,KAAK,gBAAEC,QAAQ,gBACtB,gBAAgC5B,UAAU,CAACW,aAAa,CAAC,CAAjDkB,UAAU,aAAVA,UAAU,CAAEC,OAAO,aAAPA,OAAO,CAC3B,GAAMC,SAAQ,CAAG5B,WAAW,EAAE,CAE9B,QAAS6B,aAAY,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAI,CAACjB,WAAW,EAAI,CAACE,eAAe,CAAE,CACpCS,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,IAAM,IAAIX,WAAW,GAAKE,eAAe,CAAE,CAC1CS,QAAQ,CAAC,8BAA8B,CAAC,CAC1C,CAAC,IAAM,CACLF,YAAY,CAAC,IAAI,CAAC,CAElBX,WAAW,CAACe,OAAO,CAAEb,WAAW,CAAC,CAC9BkB,IAAI,CAAC,UAAM,CACVJ,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAAC,CAACK,KAAK,CAAC,SAACC,GAAG,CAAK,CAChBT,QAAQ,CAAC,2BAA2B,CAAC,CACrCU,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAEhBX,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACN,CACF,CAEA,mBACE,wCACE,MAAC,gBAAgB,yBACf,YAAK,GAAG,CAAEtB,IAAK,CAAC,GAAG,CAAC,eAAe,EAAG,cACtC,sBAAI,kBAAgB,2BAAM,uCAAoC,GAAK,GAClD,cAEnB,MAAC,iBAAiB,yBAChB,YAAK,GAAG,CAAEC,UAAW,CAAC,GAAG,CAAC,eAAe,EAAG,cAC5C,sBAAI,yBAAoB,2BAAM,8BAAqB,GAAK,cACxD,mBAAG,kCAAgC,EAAI,cACvC,cAAM,QAAQ,CAAE2B,YAAa,wBAC3B,KAAC,aAAa,EACZ,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,qBAAqB,CACpD,KAAK,CAAEf,WAAY,CAAC,QAAQ,CAAEC,cAAe,CAC7C,IAAI,CAAE,CAAEsB,GAAG,CAAEhC,QAAS,CAAE,CACxB,KAAK,CAAE,CACLgC,GAAG,CAAEnB,eAAe,CAAGd,iBAAiB,CAAGD,cAAc,CACzDmC,OAAO,CAAE,yBAAMnB,mBAAkB,CAAC,CAACD,eAAe,CAAC,EACrD,CAAE,CACF,IAAI,CAAEA,eAAe,CAAG,MAAM,CAAG,UAAW,EAC5C,cAEF,KAAC,aAAa,EACZ,KAAK,CAAC,iBAAiB,CAAC,WAAW,CAAC,kBAAkB,CACtD,KAAK,CAAEF,eAAgB,CAAC,QAAQ,CAAEC,kBAAmB,CACrD,IAAI,CAAE,CAAEoB,GAAG,CAAEhC,QAAU,CAAE,CACzB,KAAK,CAAE,CACLgC,GAAG,CAAEjB,mBAAmB,CAAGhB,iBAAiB,CAAGD,cAAc,CAC7DmC,OAAO,CAAE,yBAAMjB,uBAAsB,CAAC,CAACD,mBAAmB,CAAC,EAC7D,CAAE,CACF,IAAI,CAAEA,mBAAmB,CAAG,MAAM,CAAG,UAAW,EAChD,CAEDI,KAAK,eAAI,aAAM,SAAS,CAAC,OAAO,UAAEA,KAAK,EAAQ,cAEhD,KAAC,MAAM,EAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAG,GACtC,cACP,KAAC,OAAO,EAAC,SAAS,CAAEF,SAAU,EAAG,GACf,GACnB,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}