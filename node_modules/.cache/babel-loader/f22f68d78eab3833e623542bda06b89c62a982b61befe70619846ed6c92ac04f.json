{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rox/Documents/GitHub/gpt-test-steticLay/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{ForgotPasswordContainer}from\"./styles\";import Logo from'../../assets/logoMobile.png';import InputWithIcon from\"../../components/InputWithIcon\";import MailIcon from'../../assets/icons/mail.png';import{Link}from\"react-router-dom\";import{forgotPassword}from\"../../services/api\";import{Toaster}from\"react-hot-toast\";import{toastError,toastSuccess}from\"../../utils/toast\";import Loading from\"../../components/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ForgotPassword(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];function handleSubmit(e){if(e)e.preventDefault();setIsLoading(true);if(!email){setError('Favor, insira um email válido.');}else{forgotPassword(email).then(function(){toastSuccess(\"E-mail enviado, favor verifique sua caixa de entrada ou span.\");setIsLoading(false);setEmail('');}).catch(function(err){setError('Problema ao validar email, verifique os dados inseridos e tente novamente.');toastError(\"Erro ao enviar e-mail\");setIsLoading(false);// console.log(err);\n});}}useEffect(function(){setError('');},[email]);return/*#__PURE__*/_jsxs(ForgotPasswordContainer,{children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",reverseOrder:false}),/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"domazzi\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Esqueceu a senha?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o se preocupe, informe um  e-mail para receber um novo acesso.\"}),/*#__PURE__*/_jsx(InputWithIcon,{label:\"E-mail\",placeholder:\"Insira seu e-mail\",value:email,setValue:setEmail,type:\"email\",left:{src:MailIcon},onEnter:handleSubmit}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{disabled:isLoading,children:\"Enviar\"}),/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"<\"}),\"Voltar para o login\"]}),/*#__PURE__*/_jsx(Loading,{isLoading:isLoading,size:26})]})]});}","map":{"version":3,"names":["useEffect","useState","ForgotPasswordContainer","Logo","InputWithIcon","MailIcon","Link","forgotPassword","Toaster","toastError","toastSuccess","Loading","ForgotPassword","email","setEmail","error","setError","isLoading","setIsLoading","handleSubmit","e","preventDefault","then","catch","err","src"],"sources":["C:/Users/Rox/Documents/GitHub/gpt-test-steticLay/src/pages/ForgotPassword/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nimport { ForgotPasswordContainer } from \"./styles\";\r\nimport Logo from '../../assets/logoMobile.png';\r\nimport InputWithIcon from \"../../components/InputWithIcon\";\r\nimport MailIcon from '../../assets/icons/mail.png';\r\nimport { Link } from \"react-router-dom\";\r\nimport { forgotPassword } from \"../../services/api\";\r\n\r\nimport { Toaster } from \"react-hot-toast\";\r\nimport { toastError, toastSuccess } from \"../../utils/toast\";\r\n\r\nimport Loading from \"../../components/Loading\";\r\n\r\nexport default function ForgotPassword() {\r\n  const [email, setEmail] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    if (e) e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (!email) {\r\n      setError('Favor, insira um email válido.');\r\n    } else {\r\n      forgotPassword(email).then(() => {\r\n        toastSuccess(\"E-mail enviado, favor verifique sua caixa de entrada ou span.\");\r\n        setIsLoading(false);\r\n        setEmail('');\r\n      }).catch(err => {\r\n        setError('Problema ao validar email, verifique os dados inseridos e tente novamente.');\r\n        toastError(\"Erro ao enviar e-mail\");\r\n        setIsLoading(false);\r\n\r\n        // console.log(err);\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setError('');\r\n  }, [email]);\r\n\r\n  return (\r\n    <ForgotPasswordContainer>\r\n      <Toaster position=\"top-right\" reverseOrder={false} />\r\n\r\n      <img src={Logo} alt=\"domazzi\" />\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <h2>Esqueceu a senha?</h2>\r\n        <p>Não se preocupe, informe um  e-mail para receber um novo acesso.</p>\r\n\r\n        <InputWithIcon\r\n          label=\"E-mail\" placeholder=\"Insira seu e-mail\"\r\n          value={email} setValue={setEmail} type=\"email\"\r\n          left={{ src: MailIcon }}\r\n          onEnter={handleSubmit}\r\n        />\r\n\r\n        {error && <span className=\"error\">{error}</span>}\r\n\r\n        <button disabled={isLoading}>Enviar</button>\r\n\r\n        <Link to=\"/\">\r\n          <span>&lt;</span>Voltar para o login\r\n        </Link>\r\n\r\n        <Loading isLoading={isLoading} size={26} />\r\n      </form>\r\n    </ForgotPasswordContainer>\r\n  )\r\n}"],"mappings":"sIAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,OAASC,uBAAuB,KAAQ,UAAU,CAClD,MAAOC,KAAI,KAAM,6BAA6B,CAC9C,MAAOC,cAAa,KAAM,gCAAgC,CAC1D,MAAOC,SAAQ,KAAM,6BAA6B,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,cAAc,KAAQ,oBAAoB,CAEnD,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,UAAU,CAAEC,YAAY,KAAQ,mBAAmB,CAE5D,MAAOC,QAAO,KAAM,0BAA0B,CAAC,wFAE/C,cAAe,SAASC,eAAc,EAAG,CACvC,cAA0BX,QAAQ,CAAC,EAAE,CAAC,wCAA/BY,KAAK,eAAEC,QAAQ,eACtB,eAA0Bb,QAAQ,CAAC,EAAE,CAAC,yCAA/Bc,KAAK,eAAEC,QAAQ,eACtB,eAAkCf,QAAQ,CAAC,KAAK,CAAC,yCAA1CgB,SAAS,eAAEC,YAAY,eAE9B,QAASC,aAAY,CAACC,CAAC,CAAE,CACvB,GAAIA,CAAC,CAAEA,CAAC,CAACC,cAAc,EAAE,CACzBH,YAAY,CAAC,IAAI,CAAC,CAElB,GAAI,CAACL,KAAK,CAAE,CACVG,QAAQ,CAAC,gCAAgC,CAAC,CAC5C,CAAC,IAAM,CACLT,cAAc,CAACM,KAAK,CAAC,CAACS,IAAI,CAAC,UAAM,CAC/BZ,YAAY,CAAC,+DAA+D,CAAC,CAC7EQ,YAAY,CAAC,KAAK,CAAC,CACnBJ,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAAC,CAACS,KAAK,CAAC,SAAAC,GAAG,CAAI,CACdR,QAAQ,CAAC,4EAA4E,CAAC,CACtFP,UAAU,CAAC,uBAAuB,CAAC,CACnCS,YAAY,CAAC,KAAK,CAAC,CAEnB;AACF,CAAC,CAAC,CACJ,CACF,CAEAlB,SAAS,CAAC,UAAM,CACdgB,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX,mBACE,MAAC,uBAAuB,yBACtB,KAAC,OAAO,EAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAE,KAAM,EAAG,cAErD,YAAK,GAAG,CAAEV,IAAK,CAAC,GAAG,CAAC,SAAS,EAAG,cAEhC,cAAM,QAAQ,CAAEgB,YAAa,wBAC3B,oBAAI,mBAAiB,EAAK,cAC1B,mBAAG,qEAAgE,EAAI,cAEvE,KAAC,aAAa,EACZ,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,mBAAmB,CAC9C,KAAK,CAAEN,KAAM,CAAC,QAAQ,CAAEC,QAAS,CAAC,IAAI,CAAC,OAAO,CAC9C,IAAI,CAAE,CAAEW,GAAG,CAAEpB,QAAS,CAAE,CACxB,OAAO,CAAEc,YAAa,EACtB,CAEDJ,KAAK,eAAI,aAAM,SAAS,CAAC,OAAO,UAAEA,KAAK,EAAQ,cAEhD,eAAQ,QAAQ,CAAEE,SAAU,UAAC,QAAM,EAAS,cAE5C,MAAC,IAAI,EAAC,EAAE,CAAC,GAAG,wBACV,sBAAM,GAAI,EAAO,sBACnB,GAAO,cAEP,KAAC,OAAO,EAAC,SAAS,CAAEA,SAAU,CAAC,IAAI,CAAE,EAAG,EAAG,GACtC,GACiB,CAE9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}